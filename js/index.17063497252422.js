import{l as C}from"./login_bg.1706349725242.js";import{a as P,b as E,c as N,d as M}from"./App.1706349725242.js";import{ao as j,b as W,w as z,v as R,u as f,d as y,r as _,x as w,e as m,f as p,I as B,a7 as S,J as D,O as e,h as i,Q as T,a1 as s,L as F,aj as O,m as V,a6 as H,F as Y,al as J,am as Q}from"./vue.1706349725242.js";import{_ as $}from"./_plugin-vue_export-helper.1706349725242.js";import{b as U,c as q,d as G,e as K}from"./element-plus.1706349725242.js";function X(u,n){let l,c=!1,t=!1;const x=j();function r(){return f(u)}function h(g){const d=r();let v=0;g.deltaY>0?(c=!1,t||(t=!0,l&&clearInterval(l),l=setInterval(()=>{v-=8,v<-200?(clearInterval(l),t=d.scrollLeft+d.clientWidth>=d.scrollWidth):d.scrollLeft+=8},1))):g.deltaY<0&&(t=!1,c||(c=!0,l&&clearInterval(l),l=setInterval(()=>{v+=8,v>200?(clearInterval(l),c=d.scrollLeft<=0):d.scrollLeft-=8},1)))}function b(g){const d=r(),{offsetLeft:v,clientWidth:L}=g,A=Math.min(d.scrollWidth-d.clientWidth,Math.max(0,v+L/2-d.clientWidth/2));A!=0&&(c=!1,t=!1),d.scrollTo({left:A,behavior:"smooth"})}P(window,"resize",()=>{c=!1,t=!1}),W(()=>{r().addEventListener("wheel",h),x.run(()=>{(n==null?void 0:n.activeIndex)!=null&&z(n.activeIndex,g=>{const d=r().children[g];b(d)})})}),R(()=>{r().removeEventListener("wheel",h),x.stop()})}const Z=["onClick"],ee=["src"],te={class:"text-sm text-center text-primary"},se=y({__name:"ProcessTaskList",setup(u){const n=_(),a=_(0),o=_([]);X(n,{activeIndex:a});function l(t){a.value=t}const c=t=>{switch(t.state){case 0:return e("div",{className:"text-sm text-center bg-green text-primary"},[s("加工中")]);case 1:return e("div",{className:"text-sm text-center bg-primary text-black"},[s("待加工")]);case 2:return e("div",{className:"text-sm text-center bg-red text-primary"},[s("维修中")]);default:return e("div",{className:"text-sm text-center bg-gray text-white"},[s("未知类型")])}};return w(()=>{o.value=Array.from(Array(30).keys()).map(t=>({id:t,name:`CNC${t+1}`,state:Math.floor(Math.random()*3),image:""}))}),(t,x)=>(m(),p("div",{ref_key:"progressTaskScrollRef",ref:n,class:"h-120px mt-2 p-2 shrink-0 flex rounded overflow-x-scroll overflow-y-hidden scrollbar-hide bg-info/80 [&>div]:h-full [&>div]:px-1 [&>div]:pt-1 [&>div]:select-none [&>div]:rounded [&>div]:flex [&>div]:flex-col [&>div]:aspect-[5/4] [&>div]:cursor-pointer [&>div]:bg-info [&>div:not(:first-child)]:ml-2"},[(m(!0),p(B,null,S(f(o),r=>(m(),p("div",{key:r.id,class:D([f(a)===r.id&&"bg-secondPrimary!"]),onClick:h=>l(r.id)},[e(c,{state:r.state},null,8,["state"]),i("img",{src:f(C),alt:"加工图",class:"grow"},null,8,ee),i("div",te,T(r.name),1)],10,Z))),128))],512))}}),le={},re={class:"i-mdi:search text-primary cursor-pointer"};function ne(u,n){return m(),p("div",re)}const I=$(le,[["render",ne]]),ae={class:"rounded bg-info/80 xs:w-full lg:h-full lg:w-80 lg:shrink-0"},oe={class:"p-2 xs:hidden md:flex md:flex-row md:justify-between lg:flex lg:flex-col"},ce=y({__name:"InfoPanel",setup(u){const n=O();E();const a=_([]);N("collapse_info",!1);function o(){n.push("/test")}function l(){}w(()=>{a.value=[{time:"今日",finishCount:2,planTime:4},{time:"昨日",finishCount:2,planTime:4},{time:"本周",finishCount:2,planTime:4},{time:"本月",finishCount:2,planTime:4}]});const c=()=>e("div",{class:"flex rounded overflow-hidden bg-info xs:h-36 xs:w-60 xs:shrink-0 lg:h-36 lg:w-full"},[e("div",{class:"grow py-8 text-sky xs:text-sm xs:pl-2 lg:text-base lg:pl-4"},[e("p",null,[s("姓名："),"吴佳乐"]),e("p",{class:"my-2"},[s("工作中心："),"CNC"]),e("p",null,[s("机台编号："),"CNC10"])]),e("img",{src:C,alt:"头像",class:"h-full aspect-[3/4]"},null)]),t=()=>e("div",{class:"xs:w-60 xs:my-0 xs:mx-4 xs:text-sm lg:w-full lg:my-8 lg:mx-0 lg:text-base"},[e("div",{class:"flex justify-between xs:items-center lg:items-end"},[e("p",{class:"text-red-5 font-bold"},[s("加工中信息")]),e("a",{class:"xs:text-xs lg:text-sm cursor-pointer text-white",onClick:o},[s("查看更多 >")])]),e("p",{class:"text-primary mt-1"},[s("生产订单："),"PO23140122003"]),e("p",{class:"text-primary xs:mt-0 lg:mt-1"},[s("物料编码："),"BC-210229-A002"]),e("div",{class:"flex"},[e("span",{class:"text-primary xs:mt-0 lg:mt-1"},[s("计划工时："),"4H"]),e("span",{class:"text-primary ml-8 xs:mt-0 lg:mt-1"},[s("数量："),"2"])]),e("p",{class:"text-primary xs:mt-0 lg:mt-1"},[s("计划开始："),"2024-01-22 10:30"]),e("p",{class:"text-primary xs:mt-0 lg:mt-1"},[s("计划结束："),"2024-02-06 16:00"]),e("p",{class:"text-primary flex xs:mt-0 lg:mt-1"},[s("附件图纸："),e(I,{class:"ml-2",onClick:l},null)])]),x=()=>e("div",{class:" xs:w-60 xs:my-0 xs:text-sm lg:w-full lg:my-8 lg:text-base"},[e("p",{class:"text-red-5 font-bold"},[s("完工信息小计")]),e("table",{class:"w-full mt-2"},[e("thead",null,[e("tr",{class:"bg-info w-full"},[e("th",{class:"text-primary xs:py-1 lg:py-2"},[s("时段")]),e("th",{class:"text-primary"},[s("完成数量")]),e("th",{class:"text-primary"},[s("计划工时")])])]),a.value.map(r=>e("tr",{class:"text-center"},[e("td",{class:"text-primary xs:py-0 lg:py-1"},[r.time]),e("td",{class:"text-primary"},[r.finishCount]),e("td",{class:"text-primary"},[r.planTime])]))])]);return(r,h)=>{const b=U;return m(),p("div",ae,[e(b,null,{default:F(()=>[i("div",oe,[e(c),e(t),e(x)])]),_:1})])}}}),ie={class:"px-4 shrink-0 flex xs:flex-row xs:justify-around xs:items-center lg:h-full lg:flex-col lg:justify-center"},ue=["onClick"],de=y({__name:"ProcessButtons",setup(u){const n=_(0),a=_([]);function o(l){n.value=l}return w(()=>{a.value=[{id:0,name:"开始加工"},{id:1,name:"部分完成"},{id:2,name:"全部完成"},{id:3,name:"取消加工"}]}),(l,c)=>(m(),p("div",ie,[(m(!0),p(B,null,S(f(a),t=>(m(),p("button",{key:t.id,class:D(["xs:px-2 xs:py-1 xs:text-xs sm:px-4 sm:py-2 sm:text-sm border-2 border-white text-primary xs:my-2 lg:mt-4",[f(n)===t.id?"base-btn-secondPrimary":"base-btn-info"]]),onClick:x=>o(t.id)},T(t.name),11,ue))),128))]))}});function me(u){return Array.from(Array(u).keys())}const k=u=>(J("data-v-6a41b6e3"),u=u(),Q(),u),pe={class:"flex grow rounded flex-col bg-info/80 xs:w-full xs:h-full lg:w-0 lg:h-full"},fe={class:"h-10 shrink-0 flex justify-between items-center px-2"},xe=k(()=>i("h5",{class:"text-red-5"},"待加工零件信息",-1)),_e={class:"flex items-center"},he=k(()=>i("input",{class:"px-1 md:py-2px mr-2 rounded",placeholder:"请输入查询条件"},null,-1)),ge={class:"grow w-full h-0"},ve={class:"w-full h-full flex-center"},ye={class:"h-10 shrink-0 flex justify-between items-center px-2"},be={class:"flex items-center"},we={class:"px-1 md:py-2px mr-2 rounded",placeholder:"请输入确认号或指令"},Fe=k(()=>i("div",{class:"i-mdi:search text-primary"},null,-1)),ke=y({__name:"ProcessTable",setup(u){const n=E(),a=_([]);return V(()=>{const o=a.value.filter(l=>l.selected).length;return 0<o&&o<a.value.length}),w(()=>{a.value=me(100).map(o=>({selected:!1,id:o,code:`M${o}`,code1:"M230102-A001",code2:"P00000000012",code3:"10",code4:"00000000",code5:"20",start_time:"2023-12-01 13:00",end_time:"2023-12-01 13:00",time:"10"}))}),(o,l)=>{const c=I,t=q,x=G,r=K,h=H("focus");return m(),p("div",pe,[i("div",fe,[xe,i("div",_e,[he,e(c)])]),i("div",ge,[e(x,{class:"process-table",width:"100%",height:"100%",data:f(a)},{default:F(()=>[e(t,{type:"selection",width:"55",fixed:"",align:"center"}),e(t,{property:"code",label:"项目号","min-width":"120",align:"center"}),e(t,{property:"code1",label:"物料编号","min-width":"140",align:"center"}),e(t,{property:"code2",label:"生产订单","min-width":"140",align:"center"}),e(t,{property:"code3",label:"工序号",width:"70",align:"center"}),e(t,{property:"code4",label:"确认号",width:"120",align:"center"}),e(t,{property:"code5",label:"数量",width:"60",align:"center"}),e(t,{property:"start_time",label:"计划开始","min-width":"160",align:"center"}),e(t,{property:"end_time",label:"计划结束","min-width":"160",align:"center"}),e(t,{property:"time",label:"工时",width:"60",align:"center"}),e(t,{label:"图纸",width:"60",align:"center",fixed:"right"},{default:F(b=>[i("div",ve,[e(c)])]),_:1})]),_:1},8,["data"])]),i("div",ye,[i("div",be,[Y(i("input",we,null,512),[[h]]),Fe]),e(r,{class:"process-pagination",layout:"pager",total:50,background:"",small:f(n).width<f(M).md},null,8,["small"])])])}}}),Ae=$(ke,[["__scopeId","data-v-6a41b6e3"]]),Ce={class:"grow flex flex-col"},Ee={class:"h-0 mt-2 grow flex xs:flex-col lg:flex-row"},Ie=y({__name:"index",setup(u){return(n,a)=>(m(),p("div",Ce,[e(se),i("div",Ee,[e(ce),e(de),e(Ae)])]))}});export{Ie as default};
