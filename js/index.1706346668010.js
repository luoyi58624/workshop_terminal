import{d as y,r as h,x as w,e as m,f as p,h as i,I as k,a7 as C,J as A,u as _,Q as E,aj as $,an as N,b as M,w as W,v as j,O as e,a1 as l,L as F,m as z,a6 as H,F as R,al as O,am as V}from"./vue.1706346668010.js";import{u as U,a as Y,b as T,c as J,d as Q}from"./App.1706346668010.js";import{_ as B}from"./_plugin-vue_export-helper.1706346668010.js";import{l as I}from"./login_bg.1706346668010.js";import{b as q,c as G,d as K,e as X}from"./element-plus.1706346668010.js";const Z={class:"flex items-center justify-between"},ee={class:"button-group",role:"group"},te=["onClick"],se=y({__name:"Header",setup(u){const r=$(),o=U(),a=h(0),s=h([]);function c(f){a.value=f}function t(){o.userInfo={},r.replace("/login")}return w(()=>{s.value=[{id:0,name:"工件确认"},{id:1,name:"工件接受"},{id:2,name:"工件转出"}]}),(f,n)=>(m(),p("div",Z,[i("div",ee,[(m(!0),p(k,null,C(_(s),x=>(m(),p("button",{key:x.id,class:A([_(a)===x.id&&"actived"]),onClick:b=>c(x.id)},E(x.name),11,te))),128))]),i("button",{class:"ring-btn-info text-primary xs:px-2 xs:py-1 xs:text-xs sm:px-4 sm:py-2 sm:text-sm",onClick:t}," 注 销 ")]))}}),le=B(se,[["__scopeId","data-v-0fa0df4f"]]);function ne(u,r){let s,c=!1,t=!1;const f=N();function n(){return _(u)}function x(g){const d=n();let v=0;g.deltaY>0?(c=!1,t||(t=!0,s&&clearInterval(s),s=setInterval(()=>{v-=8,v<-200?(clearInterval(s),t=d.scrollLeft+d.clientWidth>=d.scrollWidth):d.scrollLeft+=8},1))):g.deltaY<0&&(t=!1,c||(c=!0,s&&clearInterval(s),s=setInterval(()=>{v+=8,v>200?(clearInterval(s),c=d.scrollLeft<=0):d.scrollLeft-=8},1)))}function b(g){const d=n(),{offsetLeft:v,clientWidth:P}=g,D=Math.min(d.scrollWidth-d.clientWidth,Math.max(0,v+P/2-d.clientWidth/2));D!=0&&(c=!1,t=!1),d.scrollTo({left:D,behavior:"smooth"})}Y(window,"resize",()=>{c=!1,t=!1}),M(()=>{n().addEventListener("wheel",x),f.run(()=>{(r==null?void 0:r.activeIndex)!=null&&W(r.activeIndex,g=>{const d=n().children[g];b(d)})})}),j(()=>{n().removeEventListener("wheel",x),f.stop()})}const re=["onClick"],oe=["src"],ae={class:"text-sm text-center text-primary"},ce=y({__name:"ProcessTaskList",setup(u){const r=h(),o=h(0),a=h([]);ne(r,{activeIndex:o});function s(t){o.value=t}const c=t=>{switch(t.state){case 0:return e("div",{className:"text-sm text-center bg-green text-primary"},[l("加工中")]);case 1:return e("div",{className:"text-sm text-center bg-primary text-black"},[l("待加工")]);case 2:return e("div",{className:"text-sm text-center bg-red text-primary"},[l("维修中")]);default:return e("div",{className:"text-sm text-center bg-gray text-white"},[l("未知类型")])}};return w(()=>{a.value=Array.from(Array(30).keys()).map(t=>({id:t,name:`CNC${t+1}`,state:Math.floor(Math.random()*3),image:""}))}),(t,f)=>(m(),p("div",{ref_key:"progressTaskScrollRef",ref:r,class:"h-120px mt-2 p-2 shrink-0 flex rounded overflow-x-scroll overflow-y-hidden scrollbar-hide bg-info/80 [&>div]:h-full [&>div]:px-1 [&>div]:pt-1 [&>div]:select-none [&>div]:rounded [&>div]:flex [&>div]:flex-col [&>div]:aspect-[5/4] [&>div]:cursor-pointer [&>div]:bg-info [&>div:not(:first-child)]:ml-2"},[(m(!0),p(k,null,C(_(a),n=>(m(),p("div",{key:n.id,class:A([_(o)===n.id&&"bg-secondPrimary!"]),onClick:x=>s(n.id)},[e(c,{state:n.state},null,8,["state"]),i("img",{src:_(I),alt:"加工图",class:"grow"},null,8,oe),i("div",ae,E(n.name),1)],10,re))),128))],512))}}),ie={},ue={class:"i-mdi:search text-primary cursor-pointer"};function de(u,r){return m(),p("div",ue)}const L=B(ie,[["render",de]]),me={class:"rounded bg-info/80 xs:w-full lg:h-full lg:w-80 lg:shrink-0"},pe={class:"p-2 xs:hidden md:flex md:flex-row md:justify-between lg:flex lg:flex-col"},fe=y({__name:"InfoPanel",setup(u){const r=$();T();const o=h([]);J("collapse_info",!1);function a(){r.push("/test")}function s(){}w(()=>{o.value=[{time:"今日",finishCount:2,planTime:4},{time:"昨日",finishCount:2,planTime:4},{time:"本周",finishCount:2,planTime:4},{time:"本月",finishCount:2,planTime:4}]});const c=()=>e("div",{class:"flex rounded overflow-hidden bg-info xs:h-36 xs:w-60 xs:shrink-0 lg:h-36 lg:w-full"},[e("div",{class:"grow py-8 text-sky xs:text-sm xs:pl-2 lg:text-base lg:pl-4"},[e("p",null,[l("姓名："),"吴佳乐"]),e("p",{class:"my-2"},[l("工作中心："),"CNC"]),e("p",null,[l("机台编号："),"CNC10"])]),e("img",{src:I,alt:"头像",class:"h-full aspect-[3/4]"},null)]),t=()=>e("div",{class:"xs:w-60 xs:my-0 xs:mx-4 xs:text-sm lg:w-full lg:my-8 lg:mx-0 lg:text-base"},[e("div",{class:"flex justify-between xs:items-center lg:items-end"},[e("p",{class:"text-red-5 font-bold"},[l("加工中信息")]),e("a",{class:"xs:text-xs lg:text-sm cursor-pointer text-white",onClick:a},[l("查看更多 >")])]),e("p",{class:"text-primary mt-1"},[l("生产订单："),"PO23140122003"]),e("p",{class:"text-primary xs:mt-0 lg:mt-1"},[l("物料编码："),"BC-210229-A002"]),e("div",{class:"flex"},[e("span",{class:"text-primary xs:mt-0 lg:mt-1"},[l("计划工时："),"4H"]),e("span",{class:"text-primary ml-8 xs:mt-0 lg:mt-1"},[l("数量："),"2"])]),e("p",{class:"text-primary xs:mt-0 lg:mt-1"},[l("计划开始："),"2024-01-22 10:30"]),e("p",{class:"text-primary xs:mt-0 lg:mt-1"},[l("计划结束："),"2024-02-06 16:00"]),e("p",{class:"text-primary flex xs:mt-0 lg:mt-1"},[l("附件图纸："),e(L,{class:"ml-2",onClick:s},null)])]),f=()=>e("div",{class:" xs:w-60 xs:my-0 xs:text-sm lg:w-full lg:my-8 lg:text-base"},[e("p",{class:"text-red-5 font-bold"},[l("完工信息小计")]),e("table",{class:"w-full mt-2"},[e("thead",null,[e("tr",{class:"bg-info w-full"},[e("th",{class:"text-primary xs:py-1 lg:py-2"},[l("时段")]),e("th",{class:"text-primary"},[l("完成数量")]),e("th",{class:"text-primary"},[l("计划工时")])])]),o.value.map(n=>e("tr",{class:"text-center"},[e("td",{class:"text-primary xs:py-0 lg:py-1"},[n.time]),e("td",{class:"text-primary"},[n.finishCount]),e("td",{class:"text-primary"},[n.planTime])]))])]);return(n,x)=>{const b=q;return m(),p("div",me,[e(b,null,{default:F(()=>[i("div",pe,[e(c),e(t),e(f)])]),_:1})])}}}),xe={class:"px-4 shrink-0 flex xs:flex-row xs:justify-around xs:items-center lg:h-full lg:flex-col lg:justify-center"},_e=["onClick"],he=y({__name:"ProcessButtons",setup(u){const r=h(0),o=h([]);function a(s){r.value=s}return w(()=>{o.value=[{id:0,name:"开始加工"},{id:1,name:"部分完成"},{id:2,name:"全部完成"},{id:3,name:"取消加工"}]}),(s,c)=>(m(),p("div",xe,[(m(!0),p(k,null,C(_(o),t=>(m(),p("button",{key:t.id,class:A(["xs:px-2 xs:py-1 xs:text-xs sm:px-4 sm:py-2 sm:text-sm border-2 border-white text-primary xs:my-2 lg:mt-4",[_(r)===t.id?"base-btn-secondPrimary":"base-btn-info"]]),onClick:f=>a(t.id)},E(t.name),11,_e))),128))]))}});function ge(u){return Array.from(Array(u).keys())}const S=u=>(O("data-v-1fedf8ab"),u=u(),V(),u),ve={class:"flex grow rounded flex-col bg-info/80 xs:w-full xs:h-full lg:w-0 lg:h-full"},ye={class:"h-10 shrink-0 flex justify-between items-center px-2"},be=S(()=>i("h5",{class:"text-red-5"},"待加工零件信息",-1)),we={class:"flex items-center"},Fe=S(()=>i("input",{class:"px-1 md:py-2px mr-2 rounded",placeholder:"请输入查询条件"},null,-1)),ke={class:"grow w-full h-0"},Ce={class:"w-full h-full flex-center"},Ae={class:"h-10 shrink-0 flex justify-between items-center px-2"},Ee={class:"flex items-center"},Be={class:"px-1 md:py-2px mr-2 rounded",placeholder:"请输入确认号或指令"},Se=S(()=>i("div",{class:"i-mdi:search text-primary"},null,-1)),De=y({__name:"ProcessTable",setup(u){const r=T(),o=h([]);return z(()=>{const a=o.value.filter(s=>s.selected).length;return 0<a&&a<o.value.length}),w(()=>{o.value=ge(100).map(a=>({selected:!1,id:a,code:`M${a}`,code1:"M230102-A001",code2:"P00000000012",code3:"10",code4:"00000000",code5:"20",start_time:"2023-12-01 13:00",end_time:"2023-12-01 13:00",time:"10"}))}),(a,s)=>{const c=L,t=G,f=K,n=X,x=H("focus");return m(),p("div",ve,[i("div",ye,[be,i("div",we,[Fe,e(c)])]),i("div",ke,[e(f,{class:"process-table",width:"100%",height:"100%",data:_(o)},{default:F(()=>[e(t,{type:"selection",width:"55",fixed:"",align:"center"}),e(t,{property:"code",label:"项目号","min-width":"120",align:"center"}),e(t,{property:"code1",label:"物料编号","min-width":"140",align:"center"}),e(t,{property:"code2",label:"生产订单","min-width":"140",align:"center"}),e(t,{property:"code3",label:"工序号",width:"70",align:"center"}),e(t,{property:"code4",label:"确认号",width:"120",align:"center"}),e(t,{property:"code5",label:"数量",width:"60",align:"center"}),e(t,{property:"start_time",label:"计划开始","min-width":"160",align:"center"}),e(t,{property:"end_time",label:"计划结束","min-width":"160",align:"center"}),e(t,{property:"time",label:"工时",width:"60",align:"center"}),e(t,{label:"图纸",width:"60",align:"center",fixed:"right"},{default:F(b=>[i("div",Ce,[e(c)])]),_:1})]),_:1},8,["data"])]),i("div",Ae,[i("div",Ee,[R(i("input",Be,null,512),[[x]]),Se]),e(n,{class:"process-pagination",layout:"pager",total:50,background:"",small:_(r).width<_(Q).md},null,8,["small"])])])}}}),$e=B(De,[["__scopeId","data-v-1fedf8ab"]]),Te={class:"w-screen h-screen p-2 flex flex-col overflow-hidden bg-gradient-to-b from-[#a3d4fd] to-[#4573c1]"},Ie={class:"h-0 mt-2 grow flex xs:flex-col lg:flex-row"},je=y({__name:"index",setup(u){return(r,o)=>(m(),p("div",Te,[e(le),e(ce),i("div",Ie,[e(fe),e(he),e($e)])]))}});export{je as default};
